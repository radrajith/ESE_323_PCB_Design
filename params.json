{
  "name": "Ese 323 pcb design",
  "tagline": "Modern Circuit Board Design and Prototyping",
  "body": "## Welcome to my ESE 323 project page\r\n\r\n***\r\n\r\n### Description\r\nESE 323 is a Modern Circuit Board Design and Prototyping class taught by Prof Westerfeld. During this class, we are designing circuits using eagle cad software and also designing and building 3d models using Autocad. An Improved current meter will be designed and built for the final project. This current meter design is intended to minimize the effects of burden voltage that is present in the multimeters used in the lab and other facilites. \r\n\r\n***\r\n\r\n***\r\n\r\n\r\n###design and spec\r\nDesign drawing(initial version)\r\n![Initial design](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/hand%20drawings/initial%20design.jpg?raw=true)\r\n\r\nThe current meter will be designed to read up to 7A. The maximum current rating is set to be 8A (the fuse will break at this point) and will only be able to read positive DC currents. The circuit can be powered by a battery with a voltage ranging from 2.5 to 5v, in this design 2-AAA battery is used as a power source i.e 3V source. The Analog current measurement will be sampled at 12kSPS (based on atxmega32 specs), and the digital output will have 12-bit resolution. \r\n\r\nThe current is read by measuring the voltage that flows across a shunt resistor. The shunt resistor is specially chosen to have current sense technology, where the resistors packs have 4 terminals, 2 for current flow, and 2 for current measurement. The voltage across the resistor is read using the Atxmega micro controller's built in Analog to digital converter(ADC). \r\n \r\nSince the class is about coming with our own design and specs, I decided to add some extra feature to make this project cooler. A LCD touch screen is added to display the current readings such as peak, instantaneous, rms etc. In addition the LCD will be used to graph continuous data assuming I will finish the programming on time. Since the programming had to go through a number of revisions, a PDI communication will be implemented to modify the code as intended. In addition to serving as a normal current meter, A USB port will be added to monitor the current usage of mobile phone or other devices charged using USB. A micro usb port will be used as the input and USB as output. \r\n\r\n***\r\n###Ideal World Scenario\r\nThe Atxmega32 comes equipped with amplifier of various ranges like 1/2x, 1x,2x,8x...64x. And since the internal bandgap reference voltage is used, the reference voltage will be a constant 1V. This means by using a 0.01 ohm resistor and using a amplification of 1/2x, the max current that can be read using the meter will be 200A. \r\n*** \r\n###Design: Considerations and practical limitations\r\n\r\n* **Why 7A current limit?**\r\nThe 4 terminal  resistors are available for different power rating for 0.01 ohms. For instance, if 5W rated resistor was implemented the maximum current it can handle would be 22.36A (sqrt(5/0.01)). However, larger current required the trace width of the PCB to be more than 0.4 inch/1cm width. Since the board size use for this design is 5cmx5cm, having a trace width of 1cm will require larger board which adds to the cost. In addition the resistor land pattern is quite small that having a trace causes overlaps. A 4mm/.16in trace is implemented in this design, which corresponds to 7-8A according to graph. \r\n\r\n![current vs width](https://wiki.xtronics.com/images/7/74/PCB_current.png)\r\nsource: https://wiki.xtronics.com/index.php/Wire-Gauge_Ampacity\r\n\r\n* **Using 0.5mohm vs 1mohm 4 terminal resistor?**\r\n\r\nAlthough the cost and sizing of both parts remain the same, for this design 0.01 mohm resistor is used. An ammeter ideally has 0 internal resistance, thus for a current meter design its desired to pick a shunt resistor with lowest resistance. However, I had to go with 1mOhm resistor due to the fact that at practical usage, there is resistance contributed from the solder and traces. This will cause error in measurement. In addition, the limitation also arises from the availability of amplifiers in the MCU. With a step voltage of 0.000244, using 0.5 mOhm resistor will reduce the minimum current that can be measured and also accuracy. Thus to have a smaller minimum current, better accuracy and less error a higher valued resistor was implemented.\r\n\r\n* **Implementation of two display ports\r\nIn addition to a 14 pin header, a 4 pin header is added for i2c communication to provide an alternative display source in case the touch screen display malfunctions and the if the coding cannot be finished on time. \r\n\r\n***\r\n###**Schematic View**\r\nPage one\r\n![Page one](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/schmatic_page1.PNG?raw=true)\r\nPage two\r\n![page two](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/schmatic_page2.PNG?raw=true)\r\n###**Board view**\r\nBoard layout\r\n![board](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/Board.PNG?raw=true)\r\n***\r\n###Gain Caluculations\r\nHighlighted areas indicate the ADC readings. The gain will decrease as the voltage reading goes over 0.96V\r\n![gain](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/gain%20calculation.png?raw=true)\r\n### Parts planned to used\r\n####2.4\" LCD TFT Display\r\nLcd touch screen display made by UXCELL, bought from [amazon.com](https://www.amazon.com/240x320-Touch-Panel-Module-ILI9341/dp/B00W8TPNIK/ref=sr_1_5?ie=UTF8&qid=1477094268&sr=8-5&keywords=uxcell+2.4+lcd). The coding is going to be modelled after [ILI9341_due](http://marekburiak.github.io/ILI9341_due/)\r\nFront View\r\n![Front View](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/LCD%20TFT%20screen/front_view.jpg?raw=true)\r\nRear View\r\n![rear View](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/LCD%20TFT%20screen/back_view.jpg?raw=true)\r\nMechanical Drawings\r\n![Mechanical Drawing](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/LCD%20TFT%20screen/mechanical.jpg?raw=true)\r\n[TFT Datasheet](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/TJC-024-9341%20lcd%20touch%20screen%20data%20sheet.pdf)\r\n[14 pin header datasheet](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/14%20pin%20header.pdf)\r\n#####Eagle pic\r\n14 pin Female header\r\n![14 pin header](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/LCD%20TFT%20screen/Female%20header%20pins.PNG?raw=true)\r\n\r\n****\r\n####RGB LCD Display from seeedstudio\r\nimages\r\n![RGB LCD](https://raw.githubusercontent.com/SeeedDocument/Grove_LCD_RGB_Backlight/master/images/intro.jpg)\r\nsource - seeedstudio\r\n\r\n[Datasheet](http://wiki.seeed.cc/Grove-LCD_RGB_Backlight/)\r\n#####Eagle pic\r\nuniversal 4 pin grove connector\r\n![4 pin connector](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/RGB%20LCD/universal%204%20pin%20connector.PNG?raw=true)\r\n****\r\n####Micro USB\r\nEagle pic\r\n![micro usb](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/micro%20usb.PNG?raw=true)\r\nobtained from sparkfun eagle library\r\n[datasheet](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/micro%20usb%20mechanical.pdf)\r\n####USB\r\nEagle pic\r\n![USB](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/usbpic.PNG?raw=true)\r\nobtained from CON-Berg library\r\n####Atxmega Processor \r\nDatasheet\r\n[long form](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/xmega%20manual.pdf)\r\n[short form](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/ATxmega32E5.pdf)\r\n \r\npinouts\r\n![pinout](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/Atxmega/pinouts.PNG?raw=true)\r\ntaken from atmel xmega 32 datasheet\r\n\r\n#####Eagle pic\r\n![xmega eagle](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/Atxmega/atxmega32.PNG?raw=true)\r\n****\r\n####4 Terminal shunt resistor\r\n[datasheet](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/4%20termianl%20resistor(correct%20one).pdf)\r\n#####Eagle pic\r\n![shunt resistor](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/4%20terminal%20resistor.PNG?raw=true)\r\n\r\n####Jtag\r\nThe eagle file was modified from the 10 pin jtag obtained from jtag library\r\n\r\n#####Eagle pic\r\n![jtag] (https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/jtag.PNG?raw=true)\r\n\r\n####Banana plug\r\n[Datasheet](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Datasheets/banana%20plug.pdf)\r\n#####Eagle pic\r\n![banplug](https://github.com/radrajith/ESE_323_PCB_Design/blob/master/Pictures/banana%20plug.PNG?raw=true)\r\n\r\n\r\n###BOM\r\n\r\n***\r\n\r\n\r\n\r\n### Contact\r\nradrajith@gmail.com (2016)\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}